!function(t){var o={init:function(o){var e={direction:"left",loop:-1,scrolldelay:0,scrollamount:50,circular:!0,drag:!0,runshort:!0,hoverstop:!0,inverthover:!1,xml:!1};return o&&t.extend(e,o),this.each(function(){var o="mouseenter",i="mouseleave";e.inverthover&&(o="mouseleave",i="mouseenter");var s=e.loop,n=t(this).addClass("str_wrap").data({scrollamount:e.scrollamount}),r=!1,l=n.attr("style");if(l)for(var a=l.split(";"),f=!1,c=0;c<a.length;c++)-1!=t.trim(a[c]).search(/^height/g)&&(f=parseFloat(n.css("height")));var h=function(){n.off("mouseleave"),n.off("mouseenter"),n.off("mousemove"),n.off("mousedown"),n.off("mouseup"),t(".str_move",n).length||n.wrapInner(t("<div>").addClass("str_move"));var l=t(".str_move",n).addClass("str_origin"),a=l.clone().removeClass("str_origin").addClass("str_move_clone"),f=0;e.hoverstop||n.addClass("noStop");var c=function(){a.clone().css({left:"100%",right:"auto",width:l.width()}).appendTo(l),a.css({right:"100%",left:"auto",width:l.width()}).appendTo(l)},h=function(){a.clone().css({top:"100%",bottom:"auto",height:l.height()}).appendTo(l),a.css({bottom:"100%",top:"auto",height:l.height()}).appendTo(l)};if("left"==e.direction)if(n.height(l.outerHeight()),l.width()>n.width()){T=-l.width();e.circular&&(e.xml||(c(),T=-(l.width()+(l.width()-n.width())))),e.xml&&l.css({left:n.width()});var u=n.width(),v=0,p=function(){var t=Math.abs(T),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(l.css("left"))&&(o=((t+=n.width())-(n.width()-parseFloat(l.css("left"))))/n.data("scrollamount")*1e3),o},d=!1,m=function(){0!=s&&l.stop(!0).animate({left:T},p(),"linear",function(){t(this).css({left:n.width()}),-1==s?d=setTimeout(m,e.scrolldelay):(s--,d=setTimeout(m,e.scrolldelay))})};n.data({moveId:d,moveF:m}),e.inverthover||m(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),clearTimeout(d),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),m()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientX;return u=l.position().left,v=u-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,a=s>f?1:-1,f=s,i=v+(t.clientX-n.offset().left),e.circular?(i<-l.width()&&a<0&&(i=0,u=l.position().left,v=u-(t.clientX-n.offset().left)),i>0&&a>0&&(i=-l.width(),u=l.position().left,v=u-(t.clientX-n.offset().left))):(i<-l.width()&&a<0&&(i=n.width(),u=l.position().left,v=u-(t.clientX-n.offset().left)),i>n.width()&&a>0&&(i=-l.width(),u=l.position().left,v=u-(t.clientX-n.offset().left))),l.stop(!0).css({left:i})}).on("mouseup",function(){t(this).off("mousemove"),e.inverthover&&l.trigger("mouseenter"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else if(e.runshort){l.css({left:n.width()});var u=n.width(),v=0,g=function(){return f=(l.width()+l.position().left)/n.data("scrollamount")*1e3},w=function(){var o=-l.width();l.animate({left:o},g(),"linear",function(){t(this).css({left:n.width()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientX;return u=l.position().left,v=u-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,a=s>f?1:-1,f=s,(i=v+(t.clientX-n.offset().left))<-l.width()&&a<0&&(i=n.width(),u=l.position().left,v=u-(t.clientX-n.offset().left)),i>n.width()&&a>0&&(i=-l.width(),u=l.position().left,v=u-(t.clientX-n.offset().left)),l.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else n.addClass("str_static");if("right"==e.direction)if(n.height(l.outerHeight()),n.addClass("str_right"),l.css({left:-l.width(),right:"auto"}),l.width()>n.width()){var T=n.width();l.css({left:0}),e.circular&&(e.xml||(c(),T=l.width()));_=0;g=function(){var t=n.width(),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(l.css("left"))&&(o=((t=l.width()+n.width())-(l.width()+parseFloat(l.css("left"))))/n.data("scrollamount")*1e3),o};w=function(){0!=s&&l.animate({left:T},g(),"linear",function(){t(this).css({left:-l.width()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientX;return u=l.position().left,_=u-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,a=s>f?1:-1,f=s,i=_+(t.clientX-n.offset().left),e.circular?(i<-l.width()&&a<0&&(i=0,u=l.position().left,_=u-(t.clientX-n.offset().left)),i>0&&a>0&&(i=-l.width(),u=l.position().left,_=u-(t.clientX-n.offset().left))):(i<-l.width()&&a<0&&(i=n.width(),u=l.position().left,_=u-(t.clientX-n.offset().left)),i>n.width()&&a>0&&(i=-l.width(),u=l.position().left,_=u-(t.clientX-n.offset().left))),l.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else if(e.runshort){var _=0,g=function(){return f=(n.width()-l.position().left)/n.data("scrollamount")*1e3},w=function(){var o=n.width();l.animate({left:o},g(),"linear",function(){t(this).css({left:-l.width()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientX;return u=l.position().left,_=u-(o.clientX-n.offset().left),t(this).on("mousemove",function(t){r=!0,s=t.clientX,a=s>f?1:-1,f=s,(i=_+(t.clientX-n.offset().left))<-l.width()&&a<0&&(i=n.width(),u=l.position().left,_=u-(t.clientX-n.offset().left)),i>n.width()&&a>0&&(i=-l.width(),u=l.position().left,_=u-(t.clientX-n.offset().left)),l.stop(!0).css({left:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else n.addClass("str_static");if("up"==e.direction)if(n.addClass("str_vertical"),l.height()>n.height()){C=-l.height();e.circular&&(e.xml||(h(),C=-(l.height()+(l.height()-n.height())))),e.xml&&l.css({top:n.height()});_=0;g=function(){var t=Math.abs(C),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(l.css("top"))&&(o=((t+=n.height())-(n.height()-parseFloat(l.css("top"))))/n.data("scrollamount")*1e3),o};w=function(){0!=s&&l.animate({top:C},g(),"linear",function(){t(this).css({top:n.height()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientY;return strMoveTop=l.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,(s=t.clientY)>f?a=1:s<f&&(a=-1),f=s,i=_+t.clientY-n.offset().top,e.circular?(i<-l.height()&&a<0&&(i=0,strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>0&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top))):(i<-l.height()&&a<0&&(i=n.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top))),l.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else if(e.runshort){l.css({top:n.height()});var _=0,g=function(){return f=(l.height()+l.position().top)/n.data("scrollamount")*1e3},w=function(){var o=-l.height();l.animate({top:o},g(),"linear",function(){t(this).css({top:n.height()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientY;return strMoveTop=l.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,(s=t.clientY)>f?a=1:s<f&&(a=-1),f=s,(i=_+t.clientY-n.offset().top)<-l.height()&&a<0&&(i=n.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),l.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else n.addClass("str_static");if("down"==e.direction)if(n.addClass("str_vertical").addClass("str_down"),l.css({top:-l.height(),bottom:"auto"}),l.height()>n.height()){var C=n.height();e.circular&&(e.xml||(h(),C=l.height())),e.xml&&l.css({top:-l.height()});_=0;g=function(){var t=n.height(),o=t/n.data("scrollamount")*1e3;return 0!=parseFloat(l.css("top"))&&(o=((t=l.height()+n.height())-(l.height()+parseFloat(l.css("top"))))/n.data("scrollamount")*1e3),o};w=function(){0!=s&&l.animate({top:C},g(),"linear",function(){t(this).css({top:-l.height()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientY;return strMoveTop=l.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,(s=t.clientY)>f?a=1:s<f&&(a=-1),f=s,i=_+t.clientY-n.offset().top,e.circular?(i<-l.height()&&a<0&&(i=0,strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>0&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top))):(i<-l.height()&&a<0&&(i=n.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top))),l.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else if(e.runshort){var _=0,g=function(){return f=(n.height()-l.position().top)/n.data("scrollamount")*1e3},w=function(){var o=n.height();l.animate({top:o},g(),"linear",function(){t(this).css({top:-l.height()}),-1==s?setTimeout(w,e.scrolldelay):(s--,setTimeout(w,e.scrolldelay))})};n.data({moveF:w}),e.inverthover||w(),e.hoverstop&&(n.on(o,function(){t(this).addClass("str_active"),l.stop(!0)}).on(i,function(){t(this).removeClass("str_active"),t(this).off("mousemove"),w()}),e.drag?n.on("mousedown",function(o){e.inverthover&&l.stop(!0);var i,s,a=1,f=o.clientY;return strMoveTop=l.position().top,_=strMoveTop-(o.clientY-n.offset().top),t(this).on("mousemove",function(t){r=!0,(s=t.clientY)>f?a=1:s<f&&(a=-1),f=s,(i=_+t.clientY-n.offset().top)<-l.height()&&a<0&&(i=n.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),i>n.height()&&a>0&&(i=-l.height(),strMoveTop=l.position().top,_=strMoveTop-(t.clientY-n.offset().top)),l.stop(!0).css({top:i})}).on("mouseup",function(){e.inverthover&&l.trigger("mouseenter"),t(this).off("mousemove"),setTimeout(function(){r=!1},50)}),!1}).on("click",function(){if(r)return!1}):n.addClass("no_drag"))}else n.addClass("str_static")};e.xml?t.ajax({url:e.xml,dataType:"xml",success:function(o){for(var i=t(o).find("text"),s=i.length,r=0;r<s;r++){var l=i.eq(r).text(),a=t("<span>").text(l).appendTo(n);"left"!=e.direction&&"right"!=e.direction||(a.css({display:"inline-block",textAlign:"right"}),r>0&&a.css({width:n.width()+a.width()})),"down"!=e.direction&&"up"!=e.direction||(a.css({display:"block",textAlign:"left"}),r>0&&a.css({paddingTop:n.height()}))}h()}}):h(),n.data({ini:h,startheight:f})})},update:function(){var o=t(this),e=t(".str_origin",o),i=t(".str_move_clone",o);e.stop(!0),i.remove(),o.data("ini")()},destroy:function(){var o=t(this),e=t(".str_move",o),i=o.data("startheight");t(".str_move_clone",o).remove(),o.off("mouseenter"),o.off("mousedown"),o.off("mouseup"),o.off("mouseleave"),o.off("mousemove"),o.removeClass("noStop").removeClass("str_vertical").removeClass("str_active").removeClass("no_drag").removeClass("str_static").removeClass("str_right").removeClass("str_down");var s=o.attr("style");if(s){for(var n=s.split(";"),r=0;r<n.length;r++)-1!=t.trim(n[r]).search(/^height/g)&&(n[r]="");var l=n.join(";").replace(/;+/g,";");";"==l?o.removeAttr("style"):o.attr("style",l),i&&o.css({height:i})}if(e.stop(!0),e.length){var a=e.html();e.remove(),o.html(a)}},pause:function(){var o=t(this);t(".str_move",o).stop(!0)},play:function(){var o=t(this);t(this).off("mousemove"),o.data("moveF")()}};t.fn.liMarquee=function(e){return o[e]?o[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Метод "+e+" в jQuery.liMarquee не существует"):o.init.apply(this,arguments)}}(jQuery);